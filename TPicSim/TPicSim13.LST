                    00001           ;TPicSim7
                    00002           ;Programm zum Test des 16F84-Simulators.
                    00003           ;Es wird der Timer0 mit und ohne Vorteiler geprüft
                    00004           ;(c) St. Lehmann   Ersterstellung: 23.01.2003
                    00005           ;19.04.2014 überarbeitet
                    00006
                    00007           list c=132          ;Zeilenlänge im LST auf 132 Zeichen setzen
                    00008
                    00009           ;Definition einiger Symbole
                    00010           indirect equ 0
                    00011           status   equ 03h
                    00012           fsr      equ 04h
                    00013           ra       equ 05h
                    00014           rb       equ 06h
                    00015           count    equ 0ch
                    00016
                    00017           ;Definition des Prozessors
                    00018           device 16F84
                    00019           ;Festlegen des Codebeginns
                    00020           org 0
                    00021
                    00022  start
                    00056           ;*****************************************************************
                    00057           ;jetzt wird der Timer0 durch den externen Takt an RA4 hochgezählt.
                    00058           ;zuerst ohne VT, damit zählt jede fallende Flanke an RA
0000 3038           00059           movlw 00111000B     ;Option-Register initialisieren
0001 1683           00060           bsf status,5
0002 0081           00061           movwf 1             ;Wert ins Option-Register
0003 1283           00062           bcf status,5
0004 0181           00063           clrf 1              ;Timer löschen
                    00064  loop3
0005 1E01           00065           btfss 1,4           ;bis im Timer0 der Wert 16 erreicht wird
0006 281E           00066           goto loop3
